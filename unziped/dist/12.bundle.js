(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{122:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return o}));var n=r(2),a=(e,t,r)=>({type:n.v,live:e,url:t,title:r}),o=e=>({type:n.w,payload:e})},123:function(e,t,r){"use strict";r.d(t,"g",(function(){return u})),r.d(t,"f",(function(){return p})),r.d(t,"d",(function(){return d})),r.d(t,"c",(function(){return m})),r.d(t,"e",(function(){return g})),r.d(t,"b",(function(){return h})),r.d(t,"a",(function(){return v}));var n=r(2),a=r(33),o=r(34);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=e=>({type:n.j,payload:e}),u=e=>({type:n.k,payload:e}),p=e=>({type:n.f,payload:e}),d=e=>t=>{a.a.post("/epgs",{channel_id:e,client_id:localStorage.getItem("client_id")}).then(e=>{t(u(e.data.epgs))}).catch(e=>{console.log(e)})},m=(e,t,r,l)=>c=>{r||l||c(Object(o.b)());var u={client_id:localStorage.getItem("client_id")},p={};if(e&&(u={client_id:localStorage.getItem("client_id"),category_id:e}),t&&(p={sort:"stream_display_name",order:t}),"favorite"===e)return f(c);a.a.post("/channels",i(i(i({},u),p),{},{term:r,take:15,skip:l+5})).then(e=>{var t;c(l?(t=e.data.channels,{type:n.a,payload:t}):s(e.data.channels)),c(d(e.data.channels[0].id)),c(Object(o.a)())}).catch(e=>{console.log(e),c(Object(o.a)())})},f=e=>{a.a.post("/favorites",{client_id:localStorage.getItem("client_id"),type:"channel"}).then(t=>{e(Object(o.a)()),e(s(t.data.favorites))}).catch(t=>{e(Object(o.a)()),console.log(t)})},g=()=>e=>{e(Object(o.b)()),a.a.post("/channels/new",{client_id:localStorage.getItem("client_id")}).then(t=>{e(s(t.data.channels)),e(Object(o.a)())}).catch(t=>{console.log(t),e(Object(o.a)())})},h=()=>e=>{a.a.post("/categories",{client_id:localStorage.getItem("client_id"),type:"live"}).then(t=>{var r=t.data.categories;"object"==typeof r&&(r=Object.values(r)),r.unshift({id:0,category_name:"Sve kategorije",cat_order:0}),e(Object(o.a)()),e(p(r))}).catch(t=>{e(Object(o.a)()),console.log(t)})},v=e=>t=>{t(Object(o.b)()),a.a.post("/categories/sort",{client_id:localStorage.getItem("client_id"),type:"live",categories:e.map(e=>e.id)}).then(e=>{t(h()),t(Object(o.a)())}).catch(e=>{t(Object(o.a)())})}},133:function(e,t,r){(t=r(41)(!1)).push([e.i,".Loader{position:absolute;border:24px solid white;border-top:24px solid #431D62;border-radius:50%;width:200px;height:200px;animation:spin 2s linear infinite;-webkit-animation:spin 2s linear infinite;top:50%;left:50%;transform:translate(-50%, -50%);opacity:1}@keyframes spin{0%{transform:translate(-50%, -50%) rotate(0deg);-webkit-transform:translate(-50%, -50%) rotate(0deg)}100%{transform:translate(-50%, -50%) rotate(360deg);-webkit-transform:translate(-50%, -50%) rotate(360deg)}}\n",""]),e.exports=t},157:function(e,t,r){"use strict";var n=r(1),a=r.n(n),o=(r(158),()=>a.a.createElement("div",{className:"Loader"}));t.a=a.a.memo(o)},158:function(e,t,r){var n=r(133);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0},o=r(42)(n,a);n.locals&&(e.exports=n.locals),e.hot.accept(133,(function(){var t=r(133);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var r,n=0;for(r in e){if(!t||e[r]!==t[r])return!1;n++}for(r in t)n--;return 0===n}(n.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},184:function(e,t,r){(t=r(41)(!1)).push([e.i,'.player_full_screen{position:fixed;top:0;left:0;width:100%;height:100vh}.player_full_screen #video_holder{width:100%;height:100vh}.player_full_screen .stream_title_holder{width:100%;text-align:left;font-size:62px;color:rgba(255,255,255,0.8);margin-bottom:30px;display:-webkit-flex;align-items:center}.player_full_screen .stream_title_holder .button-color{width:30px;height:30px;border-radius:50%;margin-right:30px}.player_full_screen .stream_title_holder .button-color.green{background:#11c111}.player_full_screen .stream_title_holder .button-color.blue{background:#1111ce}.player_full_screen #video_holder video{width:100%;height:100vh;background:#000}.player_full_screen .controls_holder{position:fixed;padding:100px 40px 60px 40px;bottom:0;left:0;right:0;box-sizing:border-box;width:100%;background-image:linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.2), rgba(0,0,0,0.3), rgba(0,0,0,0.5), rgba(0,0,0,0.7), rgba(0,0,0,0.8), rgba(0,0,0,0.9), rgba(0,0,0,0.9), rgba(0,0,0,0.9), rgba(0,0,0,0.9), rgba(0,0,0,0.9));transition:0.2s all linear;opacity:0}.player_full_screen .controls_holder.show{opacity:1}.player_full_screen .time_progress_holder{display:-webkit-flex;display:-webkit-flex;justify-content:space-between;align-items:center}.player_full_screen .time{flex-basis:10%;font-size:36px;color:rgba(255,255,255,0.8);line-height:1}.player_full_screen .time.time_start{text-align:left}.player_full_screen .time.time_end{text-align:right}.player_full_screen .progress_holder{flex-basis:80%;height:5px;background:rgba(150,150,150,0.7);position:relative;transition:0.2s all linear}.player_full_screen .progress_holder.active{height:10px}.player_full_screen .progress{background:#431D62;position:absolute;left:0;top:0;height:100%}.player_full_screen .progress_holder.active .progress::after{content:"";display:inline-block;width:17px;height:17px;background:#431D62;border:6px solid #fff;border-radius:50%;position:absolute;right:-13px;top:-9px;box-sizing:content-box}.player_full_screen .main_controls{width:100%;text-align:center;margin-top:40px;display:-webkit-flex;align-items:center;justify-content:center}.player_full_screen .side_controls{position:absolute;text-align:center;display:-webkit-flex;align-items:center;justify-content:flex-end;bottom:60px;right:20px}.player_full_screen .control{position:relative;display:inline-block;margin:0 30px;border:4px solid rgba(150,150,150,0.7);width:100px;height:100px;border-radius:50%;box-sizing:border-box;transition:0.2s all linear}.player_full_screen .control.play_pause{width:120px;height:120px}.player_full_screen .control svg{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);font-size:50px;color:rgba(255,255,255,0.6)}.player_full_screen .control svg path{stroke:rgba(255,255,255,0.6);transition:0.2s all linear}.player_full_screen .control.active{border-color:#431D62}.player_full_screen .control.active svg{color:#431D62}.player_full_screen .control.active svg path{stroke:#431D62}.player_full_screen .control.overlay{position:absolute;right:20px}.player_full_screen .loader_player{position:fixed;height:100%;width:100%;top:0;left:0;margin:auto;background:rgba(0,0,0,0.8);opacity:0}.player_full_screen .loader_player.shown{opacity:1}@media (max-width: 1280px){.stream_title_holder{font-size:40px}.time{font-size:30px}.control svg{font-size:50px}}\n',""]),e.exports=t},185:function(e,t,r){(t=r(41)(!1)).push([e.i,".Epgs .popup{position:absolute;bottom:calc(100% + 20px);right:0;height:800px;width:800px;overflow:hidden;border-radius:25px;border:5px solid #431D62;background:#2f2f2f}.Epgs .popup .epg{color:white;width:100%;height:200px;border-bottom:1px solid #c9c9c9;padding:0 15px;overflow:hidden;box-sizing:border-box;display:flex;flex-direction:column;padding-top:20px;text-align:left}.Epgs .popup .epg.active{background:#573076}.Epgs .popup .epg:last-of-type{border-bottom:none}.Epgs .popup .epg .title{font-weight:bold;font-size:25px;margin-bottom:10px}.Epgs .popup .epg .dot{display:inline-block;width:10px;height:10px;border-radius:50%;background:green;margin-right:5px;margin-bottom:3px}.Epgs .popup .epg .dot.orange{background:orange}.Epgs .popup .epg .dot.blue{background:blue}.Epgs .popup .epg .fromTo{font-size:20px}.Epgs .popup .epg .description{margin-top:10px;font-size:19px;line-height:25px}.Epgs .popup .epg div,.Epgs .popup .epg p{margin:0}\n",""]),e.exports=t},186:function(e,t,r){(t=r(41)(!1)).push([e.i,".Channels svg path{stroke:white}.Channels .popup{position:absolute;bottom:calc(100% + 20px);right:0;height:600px;width:450px;overflow:hidden;border-radius:25px;border:5px solid #431D62;border-radius:5px;background:#2f2f2f}.Channels .popup .channel{color:white;width:100%;height:150px;border-bottom:1px solid #c9c9c9;padding:0 15px;overflow:hidden;box-sizing:border-box;display:flex;align-items:center}.Channels .popup .channel.active{background:#573076}.Channels .popup .channel:last-of-type{border-bottom:none}.Channels .popup .channel .img{min-width:50px;height:50px;background:no-repeat center center;background-size:cover;margin-right:20px}.Channels .popup .channel .flex{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start}.Channels .popup .channel .title{font-weight:bold;font-size:30px;margin-bottom:5px}.Channels .popup .channel .current{text-align:left}\n",""]),e.exports=t},187:function(e,t,r){(t=r(41)(!1)).push([e.i,".NextEpg{position:fixed;width:700px;height:280px;z-index:1000;background:#2f2f2f;left:50%;top:50%;transform:translate(-50%, -50%);border-radius:10px;display:flex;align-items:center;flex-direction:column}.NextEpg h3{font-size:40px}.NextEpg .buttons{margin-top:30px;display:flex;justify-content:space-between;width:650px}.NextEpg .buttons div{display:flex;justify-content:center;align-items:center;font-size:35px;width:300px;height:80px;border:2px solid white;border-radius:10px}.NextEpg .buttons div.active{background:#431D62}\n",""]),e.exports=t},222:function(e,t,r){var n=r(184);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0},o=r(42)(n,a);n.locals&&(e.exports=n.locals),e.hot.accept(184,(function(){var t=r(184);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var r,n=0;for(r in e){if(!t||e[r]!==t[r])return!1;n++}for(r in t)n--;return 0===n}(n.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},223:function(e,t,r){var n=r(185);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0},o=r(42)(n,a);n.locals&&(e.exports=n.locals),e.hot.accept(185,(function(){var t=r(185);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var r,n=0;for(r in e){if(!t||e[r]!==t[r])return!1;n++}for(r in t)n--;return 0===n}(n.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},224:function(e,t,r){var n=r(186);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0},o=r(42)(n,a);n.locals&&(e.exports=n.locals),e.hot.accept(186,(function(){var t=r(186);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var r,n=0;for(r in e){if(!t||e[r]!==t[r])return!1;n++}for(r in t)n--;return 0===n}(n.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},226:function(e,t,r){var n=r(187);"string"==typeof n&&(n=[[e.i,n,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0},o=r(42)(n,a);n.locals&&(e.exports=n.locals),e.hot.accept(187,(function(){var t=r(187);if("string"==typeof t&&(t=[[e.i,t,""]]),!function(e,t){var r,n=0;for(r in e){if(!t||e[r]!==t[r])return!1;n++}for(r in t)n--;return 0===n}(n.locals,t.locals))throw new Error("Aborting CSS HMR due to changed css-modules locals.");o(t)})),e.hot.dispose((function(){o()}))},235:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),o=r(218),l=r(227),i=r(24),c=r(157),s=(r(222),r(54)),u=r(122),p=r(123),d=r(140),m=r(142),f=r.n(m);r(223);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=Object(i.b)(e=>({epgs:e.channels.epgs}),{setStream:u.a})(({active:e,epgs:t,idleTimeOut:r,setActive:o,setStream:l})=>{var i=g(Object(n.useState)(0),2),c=i[0],u=i[1];return Object(n.useEffect)(()=>{u(0)},[t]),Object(n.useEffect)(()=>{var n=e=>{e.keyCode===s.a.down?c<t.length-1&&u(e=>e+1):e.keyCode===s.a.up?c>0&&u(e=>e-1):e.keyCode===s.a.enter?t[c].url&&(l(!1,t[c].url,t[c].title),o(!1)):e.keyCode!==s.a.back&&e.keyCode!==s.a.left&&e.keyCode!==s.a.right||o(!1),r()};return e?document.addEventListener("keydown",n):document.removeEventListener("keydown",n),()=>document.removeEventListener("keydown",n)}),a.a.createElement("div",{className:"Epgs"},a.a.createElement(d.e,null),e&&a.a.createElement("div",{className:"popup"},t.slice(c>3?c-3:0,c>3?c+1:4).map((e,t)=>{var r="green",n=new Date;return new Date(e.start)>n?r="orange":new Date(e.end)<n&&new Date(e.start)<n&&(r="blue"),a.a.createElement("div",{className:"epg"+(t===(c>3?3:c)?" active":"")},a.a.createElement("div",{className:"title"},e.title.length>50?e.title.slice(0,50)+"...":e.title),a.a.createElement("p",{className:"fromTo"}," ",a.a.createElement("div",{className:"dot ".concat(r)})," ",f()(e.start).format("HH:mm")+" - "+f()(e.end).format("HH:mm")),a.a.createElement("div",{className:"description"},e.description.length>400?e.description.slice(0,400)+"...":e.description))})))}),b=r(225);r(224);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var x=Object(i.b)(e=>({channels:e.channels.channels}),{setStream:u.a,fetchEpgs:p.d})(({active:e,channels:t,idleTimeOut:r,setActive:o,setStream:l,fetchEpgs:i})=>{var c=y(Object(n.useState)(0),2),u=c[0],p=c[1];return Object(n.useEffect)(()=>{var n=e=>{e.keyCode===s.a.down?u<t.length-1&&p(e=>e+1):e.keyCode===s.a.up?u>0&&p(e=>e-1):e.keyCode===s.a.enter?(l(!0,t[u].stream_source,t[u].stream_display_name),i(t[u].id),o(!1)):e.keyCode!==s.a.back&&e.keyCode!==s.a.left&&e.keyCode!==s.a.right||o(!1),r()};return e?document.addEventListener("keydown",n):document.removeEventListener("keydown",n),()=>document.removeEventListener("keydown",n)}),a.a.createElement("div",{className:"Channels"},a.a.createElement(b.a,null),e&&a.a.createElement("div",{className:"popup"},t.slice(u>3?u-3:0,u>3?u+1:4).map((e,t)=>{var r=e.epgs&&e.epgs.length>0&&"- "+e.epgs[0].title;return a.a.createElement("div",{className:"channel"+(t===(u>3?3:u)?" active":"")},a.a.createElement("div",{className:"img",style:{backgroundImage:"url(".concat(e.stream_icon,"), url(http://fixanything.boopro.mycpanel.rs/Placeholders/channel.png)")}}),a.a.createElement("div",{className:"flex"},a.a.createElement("div",{className:"title"},e.stream_display_name),a.a.createElement("div",{className:"current"},r)))})))});r(226);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k=({active:e,idleTimeOut:t,back:r,next:o})=>{var l=_(Object(n.useState)(0),2),i=l[0],c=l[1];return Object(n.useEffect)(()=>{c(0)},[]),Object(n.useEffect)(()=>{var n=e=>{e.keyCode===s.a.right?c(1):e.keyCode===s.a.left?c(0):e.keyCode===s.a.enter?0===i?r():1===i&&o():e.keyCode===s.a.back&&r(),t()};return e?document.addEventListener("keydown",n):document.removeEventListener("keydown",n),()=>document.removeEventListener("keydown",n)}),a.a.createElement("div",{className:"NextEpg"},a.a.createElement("h3",null,"Pustite sledecu emisiju"),a.a.createElement("div",{className:"buttons"},a.a.createElement("div",{className:0===i?"active":""},"Izadji"),a.a.createElement("div",{className:1===i?"active":""},"Sledece")))};function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(r.push(l.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var S=e=>{var t=parseInt(e%60),r=parseInt(e/60%60);return parseInt(e/60/60%24)+":"+(r=r<10?"0"+r:r)+":"+(t=t<10?"0"+t:t)},N=null,C=null,I=null,A=null,T=!1,M=null;t.default=Object(i.b)(e=>({stream:e.stream,channels:e.channels.channels,epgs:e.channels.epgs}),{setStream:u.a,fetchEpgs:p.d})(e=>{var t=Object(n.useRef)(null),r=O(Object(n.useState)({row:2,column:2}),2),i=r[0],u=r[1],p=O(Object(n.useState)(!1),2),d=p[0],m=p[1],f=O(Object(n.useState)(!0),2),g=f[0],h=f[1],b=O(Object(n.useState)(0),2),y=b[0],w=b[1],_=O(Object(n.useState)("0:00:00"),2),E=_[0],j=_[1],D=O(Object(n.useState)("0:00:00"),2),L=D[0],z=D[1],P=O(Object(n.useState)(null),2),H=P[0],U=P[1],R=O(Object(n.useState)(!0),2),$=R[0],F=R[1],J=O(Object(n.useState)(!1),2),W=J[0],B=J[1],X=O(Object(n.useState)(!1),2),q=X[0],G=X[1],K=O(Object(n.useState)(!1),2),Q=K[0],V=K[1],Y=O(Object(n.useState)(!1),2),Z=Y[0],ee=Y[1];Object(n.useEffect)(()=>{e.stream.live?u({row:1,column:1}):u({row:2,column:2}),V(!1),ee(!1)},[e.stream.live,e.epgs]),Object(n.useEffect)(()=>{if(t){var r=setInterval(()=>{I||(j(S(t.current.currentTime)),w(100*t.current.currentTime/t.current.duration),-(t.current.currentTime-t.current.duration)<10&&!Q&&!Z&&e.epgs&&!e.stream.live&&(V(!0),ee(!0)))},1e3);return t.current.play(),()=>clearInterval(r)}},[t,Q,Z]),Object(n.useEffect)(()=>{F(!0),null===H?U(e.stream.url):(t.current.pause(),U(e.stream.url),setTimeout(()=>{t.current.load(),t.current.play()},200)),te()},[e.stream.url]);var te=()=>{clearTimeout(N),N=setTimeout(()=>{m(!1),B(!1),G(!1)},5e3)},re=t=>{var r=e.channels.findIndex(t=>t.stream_display_name===e.stream.title);(t?e.channels.length-1>r:r>0)&&(r=t?r+1:r-1,e.fetchEpgs(e.channels[r].id),e.setStream(!0,e.channels[r].stream_source,e.channels[r].stream_display_name))},ne=()=>{g?(t.current.pause(),h(!1)):(t.current.play(),h(!0))},ae=()=>{ce(!0)},oe=()=>{ie(!0)},le=()=>{clearInterval(C),clearInterval(I),clearInterval(A),I=null,A=null,C=null},ie=e=>{if(!T){t.current.pause();var r=10;e&&(T=!0),C=setInterval(()=>{r<100?r*=2:clearInterval(C)},500),M=t.current.currentTime,I=setInterval(()=>{M<t.current.duration-r?(te(),j(S(M+=r)),w(100*M/t.current.duration)):(te(),M=t.current.duration,j(S(M)),w(100*M/t.current.duration))},100),e&&document.addEventListener("keyup",se)}},ce=e=>{if(!T){t.current.pause();var r=10;e&&(T=!0),C=setInterval(()=>{r<100?r*=2:clearInterval(C)},500),M=t.current.currentTime,I=setInterval(()=>{M>0+r?(te(),j(S(M-=r)),w(100*M/t.current.duration)):(te(),j(S(M=0)),w(100*M/t.current.duration))},100),e&&document.addEventListener("keyup",se)}},se=e=>{T=!1,t.current.currentTime=M,le(),t.current.play(),document.removeEventListener("keyup",se)};Object(n.useEffect)(()=>{var r=r=>{if($)r.keyCode===s.a.back&&ue();else if(d)switch(te(),r.keyCode){case s.a.left:e.stream.live?i.column>1&&u(e=>({row:1,column:e.column-1})):2===i.row?i.column>1&&u(e=>({row:2,column:e.column-1})):1===i.row&&(A||ae(!0));break;case s.a.right:e.stream.live?e.epgs&&e.epgs.length>0&&i.column<2&&u(e=>({row:1,column:e.column+1})):2===i.row?(e.epgs&&e.epgs.length&&i.column<5||i.column<3)&&u(e=>({row:2,column:e.column+1})):1===i.row&&(I||oe(!0));break;case s.a.up:e.stream.live?re(!0):2===i.row&&u(e=>({row:1,column:e.column}));break;case s.a.down:e.stream.live?re(!1):1===i.row&&u(e=>({row:2,column:e.column}));break;case s.a.enter:e.stream.live?1===i.column?B(!0):2===i.column&&G(!0):2===i.row&&(2===i.column?ne():1===i.column?A||ae():3===i.column?I||oe():4===i.column?B(!0):5===i.column&&G(!0)),document.addEventListener("keyup",le);break;case s.a.play:g||(t.current.play(),h(!0));break;case s.a.pause:g&&(t.current.pause(),h(!1));break;case s.a.backward:ae();break;case s.a.forward:oe();break;case s.a.channelDown:e.stream.live&&re(!1);break;case s.a.channelUp:e.stream.live&&re(!0);break;case s.a.back:clearTimeout(te),ue()}else r.keyCode===s.a.back?ue():r.keyCode===s.a.channelUp?e.stream.live&&re(!0):r.keyCode===s.a.channelDown?e.stream.live&&re(!1):(m(!0),te())},n=()=>{$||(d||m(!0),te())};return q||W||Q?document.removeEventListener("keydown",r):document.addEventListener("keydown",r),document.addEventListener("mousemove",n),()=>{document.removeEventListener("keydown",r),document.removeEventListener("mousemove",n)}});var ue=()=>{e.history.goBack()},pe={width:"".concat(y,"%")},de=e.stream.live?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"stream_title_holder"},a.a.createElement("div",{className:"button-color green"}),e.stream.title),a.a.createElement("div",{className:"side_controls"},a.a.createElement("div",{className:"control channels"+(1===i.row&&1===i.column?" active":""),onMouseOver:()=>u({row:1,column:1})},a.a.createElement(x,{active:W,idleTimeOut:te,setActive:B})),e.epgs&&e.epgs.length>0&&a.a.createElement("div",{className:"control epgs"+(1===i.row&&2===i.column?" active":""),onMouseOver:()=>u({row:1,column:2})},a.a.createElement(v,{active:q,idleTimeOut:te,setActive:G})))):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"stream_title_holder"},a.a.createElement("div",{className:"button-color blue"}),e.stream.title),a.a.createElement("div",{className:"time_progress_holder",onMouseOver:()=>u(e=>({row:1,column:e.column})),onClick:e=>{t.current.pause();var r=.76*window.innerWidth,n=100*(e.pageX-.12*window.innerWidth)/r;n>0&&n<100&&(t.current.currentTime=t.current.duration*n/100,w(t.current.duration*n/t.current.duration)),t.current.play()}},a.a.createElement("div",{className:"time time_start"},E),a.a.createElement("div",{className:"progress_holder"+(1===i.row?" active":"")},a.a.createElement("div",{className:"progress",style:pe})),a.a.createElement("div",{className:"time time_end"},L)),a.a.createElement("div",{className:"main_controls"},a.a.createElement("div",{className:"control backward"+(2===i.row&&1===i.column?" active":""),onMouseOver:()=>u({row:2,column:1}),onMouseDown:ae,onMouseUp:le},a.a.createElement(o.a,{icon:l.a})),a.a.createElement("div",{className:"control play_pause"+(2===i.row&&2===i.column?" active":""),onMouseOver:()=>u({row:2,column:2}),onClick:ne},g?a.a.createElement(o.a,{icon:l.c}):a.a.createElement(o.a,{icon:l.d})),a.a.createElement("div",{className:"control forward"+(2===i.row&&3===i.column?" active":""),onMouseOver:()=>u({row:2,column:3}),onMouseDown:oe,onMouseUp:le},a.a.createElement(o.a,{icon:l.b}))),e.epgs&&e.epgs.length>0&&a.a.createElement("div",{className:"side_controls"},a.a.createElement("div",{className:"control channels"+(2===i.row&&4===i.column?" active":""),onMouseOver:()=>u({row:2,column:4})},a.a.createElement(x,{active:W,idleTimeOut:te,setActive:B})),a.a.createElement("div",{className:"control epgs"+(2===i.row&&5===i.column?" active":""),onMouseOver:()=>u({row:2,column:5})},a.a.createElement(v,{active:q,idleTimeOut:te,setActive:G})))),me=$?a.a.createElement("div",{className:"loader_player shown"},a.a.createElement(c.a,null)):null;return a.a.createElement("div",{className:"player_full_screen"},a.a.createElement("div",{id:"video_holder"},a.a.createElement("video",{ref:t,onLoadedMetadata:e=>{z(S(e.target.duration)),F(!1),m(!0)},onCanPlay:()=>{F(!1)}},a.a.createElement("source",{src:H}))),Q&&a.a.createElement(k,{active:Q,setActive:V,idleTimeOut:te,back:()=>V(!1),next:()=>{}}),me,a.a.createElement("div",{className:"controls_holder"+(d?" show":"")},de))})}}]);